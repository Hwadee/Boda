<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<!--	namespace:mapper的命名空间，一般使用mapper文件的全路径		 -->

<mapper namespace="com.boda.mapper.UrgeForReturnMapper">

	<resultMap type="com.boda.pojo.UrgeForReturn" id="urgeForReturnResultMap">
		<id column="emp_id" property="empId"/>
		<result column="ove_time_id" property="overTimeId"/>
		<result column="last_urge_date" property="lastUrgeDate"/>	
	</resultMap>

<!-- 根据逾期id查询所有催促信息-->	 
	<select id="findUrgeMessageByOverTimeId" parameterType="Integer" resultType="com.boda.pojo.UrgeForReturn">
		select * from urge_for_return where over_time_id = #{value}
	</select>
<!-- 根据员工id查询员工催促的所有逾期信息-->	
	<select id="findUrgeMessageByEmpId" parameterType="Integer" resultType="com.boda.pojo.UrgeForReturn">
		select * from urge_for_return where emp_id = #{value}
	</select>	
	
<!-- 新增一条催促信息 -->
	<insert id="addUrgeMessage" parameterType="com.boda.pojo.UrgeForReturn">
		insert into post (emp_id,over_time_id,last_urge_date) 
		values (#{empId},#{overTimeId},#{lastUrgeDate});	
	</insert>
<!-- 根据催促信息员工id和逾期id更新催促时间-->	
	<update id="updateUrgeMessage" parameterType="com.boda.pojo.UrgeForReturn">
		UPDATE urge_for_return 
		SET empId=#{empId},over_time_id=#{overTimeId},last_urge_date=#{lastUrgeDate}
		WHERE empId=#{empId} and over_time_id=#{overTimeId}
	</update>	
</mapper>